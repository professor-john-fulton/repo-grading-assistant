{% extends 'include.html' %}
{% block title %}Post Delete{% endblock %}
{% block content %}

    {% if user.is_authenticated %}
        {% if user.id == post.author.id %}
            <div class="loginContainer">
                <div>
                    <h2>{{ post.title }}</h2>
                    <p>{{ post.content }}</p>
                    <p><em>Published on {{ post.created_at }} | By: {{ post.author }}</em></p>
                </div>

                <form method="post">
                    {% csrf_token %} <!--Protects against Cross-Site Request Forgery attacks -->
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this post?');">Delete Post</button>
                </form>
            </div>
        {% else %}
            <div class="loginContainer">
                <div>
                    <p>You do not have permission to delete this post.</p>
                </div>
            </div>            
        {% endif %}
    {% else %}
        <div class="loginContainer">
            <div>
                <p>You do not have permission to delete this post.</p>
            </div>
        </div>  
    {% endif %}

{% endblock %}